<!DOCTYPE html>
{% load static %}
<html>
<head>
	<meta charset="utf-8">
	<title>STRACK – Student Dashboard</title>

	<!-- Favicon -->
	<link rel="icon" type="image/png" sizes="32x32" href="{% static 'Studentside/vendors/images/student-fav.png' %}">
	<link rel="icon" type="image/png" sizes="16x16" href="{% static 'Studentside/vendors/images/student-fav.png' %}">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

	<!-- Core CSS -->
	<link rel="stylesheet" type="text/css" href="{% static 'Studentside/vendors/styles/core.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Studentside/vendors/styles/icon-font.min.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Studentside/vendors/styles/style.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Studentside/src/plugins/datatables/css/dataTables.bootstrap4.min.css' %}">
</head>

<body>
	<!-- PRELOADER -->
	<div class="pre-loader">
		<div class="pre-loader-box">
			<div class="loader-logo"><img src="{% static 'Studentside/vendors/images/deskapp-logo.svg' %}" alt=""></div>
			<div class='loader-progress' id="progress_div">
				<div class='bar' id='bar1'></div>
			</div>
			<div class='percent' id='percent1'>0%</div>
			<div class="loading-text">Loading...</div>
		</div>
	</div>

	<!-- HEADER -->
	<div class="header">
		<div class="header-left">
			<div class="menu-icon dw dw-menu"></div>
		</div>

		<div class="header-right">
			<div class="user-info-dropdown">
				<div class="dropdown">
					<a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown">
						<span class="user-icon">
							<img src="{% static 'Studentside/vendors/images/student.png' %}">
						</span>
						<span class="user-name">{{ student.name }}</span>
					</a>
					<div class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list">
						<a class="dropdown-item" href="{% url 'StudentProfile' %}"><i class="dw dw-user1"></i> Profile</a>
						<a class="dropdown-item" href="{% url 'StudentLogout' %}"><i class="dw dw-logout"></i> Logout</a>
					</div>
				</div>
			</div>

			<div class="github-link">
				<a href="#"><img src="{% static 'Studentside/vendors/images/help.svg' %}" alt=""></a>
			</div>
		</div>
	</div>

	<!-- SIDEBAR -->
	<div class="left-side-bar">
		<div class="brand-logo">
			<a href="#">
				<img src="{% static 'Studentside/vendors/images/deskapp-logo-white.svg' %}" class="light-logo">
			</a>
			<div class="close-sidebar" data-toggle="left-sidebar-close">
				<i class="ion-close-round"></i>
			</div>
		</div>

		<div class="menu-block customscroll">
			<div class="sidebar-menu">
				<ul id="accordion-menu">

					<li>
						<a href="{% url 'StudentDashboard' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-house-1"></span><span class="mtext">Dashboard</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentAttendancePage' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-analytics-21"></span><span class="mtext">Attendance</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentInternalTable' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-edit2"></span><span class="mtext">Internal Marks</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentFullReport' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-download"></span><span class="mtext">Download Report</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentMessenger' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-chat3"></span><span class="mtext">Messenger</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentProfile' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-user1"></span><span class="mtext">Profile</span>
						</a>
					</li>

					<li>
						<a href="{% url 'StudentLogout' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-logout"></span><span class="mtext">Logout</span>
						</a>
					</li>

				</ul>
			</div>
		</div>
	</div>
	<div class="mobile-menu-overlay"></div>

	<!-- MAIN CONTENT -->
	<div class="main-container">
		<div class="pd-ltr-20">

			<!-- STUDENT PROFILE HEADER -->
			<div class="card-box pd-20 mb-30">
				<div class="row align-items-center">

					<!-- LEFT PROFILE -->
					<div class="col-md-4 text-center">
						<img src="{% static 'Studentside/vendors/images/student.png' %}" class="rounded-circle mb-3" style="width:150px;">
						<h4>{{ student.name }}</h4>
						<p><b>Reg No:</b> {{ student.reg_no }}</p>
						<p><b>Class:</b> {{ student.class_name }}</p>
						<p><b>Batch:</b> {{ student.batch }}</p>
					</div>

					<!-- RIGHT DETAILS -->
					<div class="col-md-8">
						<h4 class="font-20 mb-10">Welcome back,
							<span class="text-blue weight-600 font-30">{{ student.name }}!</span>
						</h4>

						<div class="row mt-3">
							<div class="col-md-6 mb-2"><div class="p-2 bg-light rounded"><b>Email:</b> {{ student.email }}</div></div>
							<div class="col-md-6 mb-2"><div class="p-2 bg-light rounded"><b>Phone:</b> {{ student.phone }}</div></div>
							<div class="col-md-6 mb-2"><div class="p-2 bg-light rounded"><b>Department:</b> {{ student.department }}</div></div>
							<div class="col-md-6 mb-2"><div class="p-2 bg-light rounded"><b>Advisor:</b> {{ student.advisor }}</div></div>
						</div>
					</div>

				</div>
			</div>

			<!-- QUICK ACTION CARDS -->
			<div class="row">

				<!-- Attendance Donut -->
				<div class="col-xl-3 mb-30">
					<a href="{% url 'StudentAttendancePage' %}">
						<div class="card-box widget-style1">
							<div class="d-flex align-items-center">
								<div class="progress-data"><div id="attendanceDonut"></div></div>
								<div class="widget-data">
									<div class="h4 mb-0">{{ attendance_percent }}%</div>
									<div>Attendance</div>
								</div>
							</div>
						</div>
					</a>
				</div>

				<!-- Internal -->
				<div class="col-xl-3 mb-30">
					<a href="{% url 'StudentInternalTable' %}">
						<div class="card-box widget-style1">
							<div class="d-flex align-items-center">
								<div class="progress-data"><i class="dw dw-edit2" style="font-size:40px;"></i></div>
								<div class="widget-data"><div class="h4 mb-0">Internals</div><div>Marks</div></div>
							</div>
						</div>
					</a>
				</div>

				<!-- Report -->
				<div class="col-xl-3 mb-30">
					<a href="{% url 'StudentFullReport' %}">
						<div class="card-box widget-style1">
							<div class="d-flex align-items-center">
								<div class="progress-data"><i class="dw dw-download" style="font-size:40px;"></i></div>
								<div class="widget-data"><div class="h4 mb-0">Report</div><div>Download</div></div>
							</div>
						</div>
					</a>
				</div>

				<!-- Chat -->
				<div class="col-xl-3 mb-30">
					<a href="{% url 'StudentMessenger' %}">
						<div class="card-box widget-style1">
							<div class="d-flex align-items-center">
								<div class="progress-data"><i class="dw dw-chat3" style="font-size:40px;"></i></div>
								<div class="widget-data"><div class="h4 mb-0">Chat</div><div>Enquiry</div></div>
							</div>
						</div>
					</a>
				</div>

			</div>

			<!-- FOOTER -->
			<div class="footer-wrap pd-20 mb-20 card-box">
				© 2025 STRACK Student Portal
			</div>

		</div>
	</div>

	<!-- JS -->
	<script src="{% static 'Studentside/vendors/scripts/core.js' %}"></script>
	<script src="{% static 'Studentside/vendors/scripts/script.min.js' %}"></script>
	<script src="{% static 'Studentside/vendors/scripts/process.js' %}"></script>
	<script src="{% static 'Studentside/vendors/scripts/layout-settings.js' %}"></script>
	<script src="{% static 'Studentside/src/plugins/apexcharts/apexcharts.min.js' %}"></script>

	<!-- Donut Chart -->
	<script>
	var options = {
		series: [{{ attendance_percent|default:0 }}],
		chart: { type: 'radialBar', height: 180 },
		colors: ['#1b5cff'],
		plotOptions: { radialBar: { hollow: { size: '45%' } } }
	};
	var chart = new ApexCharts(document.querySelector("#attendanceDonut"), options);
	chart.render();
	</script>

</body>
</html>
